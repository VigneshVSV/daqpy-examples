import typing
from enum import IntEnum

# refer lines 5571 - 5573 pyueye package
class ErrorCodes(IntEnum):
    IS_NO_SUCCESS = -1
    IS_SUCCESS = 0
    IS_INVALID_CAMERA_HANDLE = 1
    IS_INVALID_HANDLE = 1
    IS_IO_REQUEST_FAILED = 2
    IS_CANT_OPEN_DEVICE = 3
    IS_CANT_CLOSE_DEVICE = 4
    IS_CANT_SETUP_MEMORY = 5
    IS_NO_HWND_FOR_ERROR_REPORT = 6
    IS_ERROR_MESSAGE_NOT_CREATED = 7
    IS_ERROR_STRING_NOT_FOUND = 8
    IS_HOOK_NOT_CREATED = 9
    IS_TIMER_NOT_CREATED = 10
    IS_CANT_OPEN_REGISTRY = 11
    IS_CANT_READ_REGISTRY = 12
    IS_CANT_VALIDATE_BOARD = 13
    IS_CANT_GIVE_BOARD_ACCESS = 14
    IS_NO_IMAGE_MEM_ALLOCATED = 15
    IS_CANT_CLEANUP_MEMORY = 16
    IS_CANT_COMMUNICATE_WITH_DRIVER = 17
    IS_FUNCTION_NOT_SUPPORTED_YET = 18
    IS_OPERATING_SYSTEM_NOT_SUPPORTED = 19
    IS_INVALID_VIDEO_IN = 20
    IS_INVALID_IMG_SIZE = 21
    IS_INVALID_ADDRESS = 22
    IS_INVALID_VIDEO_MODE = 23
    IS_INVALID_AGC_MODE = 24
    IS_INVALID_GAMMA_MODE = 25
    IS_INVALID_SYNC_LEVEL = 26
    IS_INVALID_CBARS_MODE = 27
    IS_INVALID_COLOR_MODE = 28
    IS_INVALID_SCALE_FACTOR = 29
    IS_INVALID_IMAGE_SIZE = 30
    IS_INVALID_IMAGE_POS = 31
    IS_INVALID_CAPTURE_MODE = 32
    IS_INVALID_RISC_PROGRAM = 33
    IS_INVALID_BRIGHTNESS = 34
    IS_INVALID_CONTRAST = 35
    IS_INVALID_SATURATION_U = 36
    IS_INVALID_SATURATION_V = 37
    IS_INVALID_HUE = 38
    IS_INVALID_HOR_FILTER_STEP = 39
    IS_INVALID_VERT_FILTER_STEP = 40
    IS_INVALID_EEPROM_READ_ADDRESS = 41
    IS_INVALID_EEPROM_WRITE_ADDRESS = 42
    IS_INVALID_EEPROM_READ_LENGTH = 43
    IS_INVALID_EEPROM_WRITE_LENGTH = 44
    IS_INVALID_BOARD_INFO_POINTER = 45
    IS_INVALID_DISPLAY_MODE = 46
    IS_INVALID_ERR_REP_MODE = 47
    IS_INVALID_BITS_PIXEL = 48
    IS_INVALID_MEMORY_POINTER = 49
    IS_FILE_WRITE_OPEN_ERROR = 50
    IS_FILE_READ_OPEN_ERROR = 51
    IS_FILE_READ_INVALID_BMP_ID = 52
    IS_FILE_READ_INVALID_BMP_SIZE = 53
    IS_FILE_READ_INVALID_BIT_COUNT = 54
    IS_WRONG_KERNEL_VERSION = 55
    IS_RISC_INVALID_XLENGTH = 60
    IS_RISC_INVALID_YLENGTH = 61
    IS_RISC_EXCEED_IMG_SIZE = 62
    IS_DD_MAIN_FAILED = 70
    IS_DD_PRIMSURFACE_FAILED = 71
    IS_DD_SCRN_SIZE_NOT_SUPPORTED = 72
    IS_DD_CLIPPER_FAILED = 73
    IS_DD_CLIPPER_HWND_FAILED = 74
    IS_DD_CLIPPER_CONNECT_FAILED = 75
    IS_DD_BACKSURFACE_FAILED = 76
    IS_DD_BACKSURFACE_IN_SYSMEM = 77
    IS_DD_MDL_MALLOC_ERR = 78
    IS_DD_MDL_SIZE_ERR = 79
    IS_DD_CLIP_NO_CHANGE = 80
    IS_DD_PRIMMEM_NULL = 81
    IS_DD_BACKMEM_NULL = 82
    IS_DD_BACKOVLMEM_NULL = 83
    IS_DD_OVERLAYSURFACE_FAILED = 84
    IS_DD_OVERLAYSURFACE_IN_SYSMEM = 85
    IS_DD_OVERLAY_NOT_ALLOWED = 86
    IS_DD_OVERLAY_COLKEY_ERR = 87
    IS_DD_OVERLAY_NOT_ENABLED = 88
    IS_DD_GET_DC_ERROR = 89
    IS_DD_DDRAW_DLL_NOT_LOADED = 90
    IS_DD_THREAD_NOT_CREATED = 91
    IS_DD_CANT_GET_CAPS = 92
    IS_DD_NO_OVERLAYSURFACE = 93
    IS_DD_NO_OVERLAYSTRETCH = 94
    IS_DD_CANT_CREATE_OVERLAYSURFACE = 95
    IS_DD_CANT_UPDATE_OVERLAYSURFACE = 96
    IS_DD_INVALID_STRETCH = 97
    IS_EV_INVALID_EVENT_NUMBER = 100
    IS_INVALID_MODE = 101
    IS_CANT_FIND_FALCHOOK = 102
    IS_CANT_FIND_HOOK = 102
    IS_CANT_GET_HOOK_PROC_ADDR = 103
    IS_CANT_CHAIN_HOOK_PROC = 104
    IS_CANT_SETUP_WND_PROC = 105
    IS_HWND_NULL = 106
    IS_INVALID_UPDATE_MODE = 107
    IS_NO_ACTIVE_IMG_MEM = 108
    IS_CANT_INIT_EVENT = 109
    IS_FUNC_NOT_AVAIL_IN_OS = 110
    IS_CAMERA_NOT_CONNECTED = 111
    IS_SEQUENCE_LIST_EMPTY = 112
    IS_CANT_ADD_TO_SEQUENCE = 113
    IS_LOW_OF_SEQUENCE_RISC_MEM = 114
    IS_IMGMEM2FREE_USED_IN_SEQ = 115
    IS_IMGMEM_NOT_IN_SEQUENCE_LIST = 116
    IS_SEQUENCE_BUF_ALREADY_LOCKED = 117
    IS_INVALID_DEVICE_ID = 118
    IS_INVALID_BOARD_ID = 119
    IS_ALL_DEVICES_BUSY = 120
    IS_HOOK_BUSY = 121
    IS_TIMED_OUT = 122
    IS_NULL_POINTER = 123
    IS_WRONG_HOOK_VERSION = 124
    IS_INVALID_PARAMETER = 125
    IS_NOT_ALLOWED = 126
    IS_OUT_OF_MEMORY = 127
    IS_INVALID_WHILE_LIVE = 128
    IS_ACCESS_VIOLATION = 129
    IS_UNKNOWN_ROP_EFFECT = 130
    IS_INVALID_RENDER_MODE = 131
    IS_INVALID_THREAD_CONTEXT = 132
    IS_NO_HARDWARE_INSTALLED = 133
    IS_INVALID_WATCHDOG_TIME = 134
    IS_INVALID_WATCHDOG_MODE = 135
    IS_INVALID_PASSTHROUGH_IN = 136
    IS_ERROR_SETTING_PASSTHROUGH_IN = 137
    IS_FAILURE_ON_SETTING_WATCHDOG = 138
    IS_NO_USB20 = 139
    IS_CAPTURE_RUNNING = 140
    IS_MEMORY_BOARD_ACTIVATED = 141
    IS_MEMORY_BOARD_DEACTIVATED = 142
    IS_NO_MEMORY_BOARD_CONNECTED = 143
    IS_TOO_LESS_MEMORY = 144
    IS_IMAGE_NOT_PRESENT = 145
    IS_MEMORY_MODE_RUNNING = 146
    IS_MEMORYBOARD_DISABLED = 147
    IS_TRIGGER_ACTIVATED = 148
    IS_WRONG_KEY = 150
    IS_CRC_ERROR = 151
    IS_NOT_YET_RELEASED = 152
    IS_NOT_CALIBRATED = 153
    IS_WAITING_FOR_KERNEL = 154
    IS_NOT_SUPPORTED = 155
    IS_TRIGGER_NOT_ACTIVATED = 156
    IS_OPERATION_ABORTED = 157
    IS_BAD_STRUCTURE_SIZE = 158
    IS_INVALID_BUFFER_SIZE = 159
    IS_INVALID_PIXEL_CLOCK = 160
    IS_INVALID_EXPOSURE_TIME = 161
    IS_AUTO_EXPOSURE_RUNNING = 162
    IS_CANNOT_CREATE_BB_SURF = 163
    IS_CANNOT_CREATE_BB_MIX = 164
    IS_BB_OVLMEM_NULL = 165
    IS_CANNOT_CREATE_BB_OVL = 166
    IS_NOT_SUPP_IN_OVL_SURF_MODE = 167
    IS_INVALID_SURFACE = 168
    IS_SURFACE_LOST = 169
    IS_RELEASE_BB_OVL_DC = 170
    IS_BB_TIMER_NOT_CREATED = 171
    IS_BB_OVL_NOT_EN = 172
    IS_ONLY_IN_BB_MODE = 173
    IS_INVALID_COLOR_FORMAT = 174
    IS_INVALID_WB_BINNING_MODE = 175
    IS_INVALID_I2C_DEVICE_ADDRESS = 176
    IS_COULD_NOT_CONVERT = 177
    IS_TRANSFER_ERROR = 178
    IS_PARAMETER_SET_NOT_PRESENT = 179
    IS_INVALID_CAMERA_TYPE = 180
    IS_INVALID_HOST_IP_HIBYTE = 181
    IS_CM_NOT_SUPP_IN_CURR_DISPLAYMODE = 182
    IS_NO_IR_FILTER = 183
    IS_STARTER_FW_UPLOAD_NEEDED = 184
    IS_DR_LIBRARY_NOT_FOUND = 185
    IS_DR_DEVICE_OUT_OF_MEMORY = 186
    IS_DR_CANNOT_CREATE_SURFACE = 187
    IS_DR_CANNOT_CREATE_VERTEX_BUFFER = 188
    IS_DR_CANNOT_CREATE_TEXTURE = 189
    IS_DR_CANNOT_LOCK_OVERLAY_SURFACE = 190
    IS_DR_CANNOT_UNLOCK_OVERLAY_SURFACE = 191
    IS_DR_CANNOT_GET_OVERLAY_DC = 192
    IS_DR_CANNOT_RELEASE_OVERLAY_DC = 193
    IS_DR_DEVICE_CAPS_INSUFFICIENT = 194
    IS_INCOMPATIBLE_SETTING = 195
    IS_DR_NOT_ALLOWED_WHILE_DC_IS_ACTIVE = 196
    IS_DEVICE_ALREADY_PAIRED = 197
    IS_SUBNETMASK_MISMATCH = 198
    IS_SUBNET_MISMATCH = 199
    IS_INVALID_IP_CONFIGURATION = 200
    IS_DEVICE_NOT_COMPATIBLE = 201
    IS_NETWORK_FRAME_SIZE_INCOMPATIBLE = 202
    IS_NETWORK_CONFIGURATION_INVALID = 203
    IS_ERROR_CPU_IDLE_STATES_CONFIGURATION = 204
    IS_DEVICE_BUSY = 205
    IS_SENSOR_INITIALIZATION_FAILED = 206
    IS_IMAGE_BUFFER_NOT_DWORD_ALIGNED = 207
    IS_SEQ_BUFFER_IS_LOCKED = 208
    IS_FILE_PATH_DOES_NOT_EXIST = 209
    IS_INVALID_WINDOW_HANDLE = 210
    IS_INVALID_IMAGE_PARAMETER = 211
    IS_NO_SUCH_DEVICE = 212
    IS_DEVICE_IN_USE = 213

    @classmethod
    def json(self):
        try:
            return self._json 
        except:
            self._json = {value.value : name for name, value in vars(self).items() if isinstance(value, self)}
            return self._json
        

class UEyeError(Exception):

    def __init__(self, error_code : int, message : typing.Optional[str] = "", ) -> None:
        exception_message = f"{ErrorCodes(error_code).name} - (code - {error_code})"
        if message:
            exception_message += ". " + message
        super().__init__(exception_message)